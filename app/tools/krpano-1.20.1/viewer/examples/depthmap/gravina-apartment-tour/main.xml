<krpano debugmode="true">
    
    


    <!-- 
                     _           _     _____     _ 
     _ __  _ __ ___ (_) ___  ___| |_  |___ /  __| |
    | '_ \| '__/ _ \| |/ _ \/ __| __|   |_ \ / _` |
    | |_) | | | (_) | |  __/ (__| |_   ___) | (_| |
    | .__/|_|  \___// |\___|\___|\__| |____/ \__,_|
    |_|           |__/                             
    
    -->
    <include url="project3d.xml" />



    <!-- 
                       _             _             
     _ __   __ ___   _(_) __ _  __ _| |_ ___  _ __ 
    | '_ \ / _` \ \ / / |/ _` |/ _` | __/ _ \| '__|
    | | | | (_| |\ V /| | (_| | (_| | || (_) | |   
    |_| |_|\__,_| \_/ |_|\__, |\__,_|\__\___/|_|   
                         |___/                  
    
    FREE VERSION OF THE NAVIGATOR PLUGIN
    
    FOR FURTHER OPTIONS PLEASE CONSIDER PURCHASING A PRO LICENSE AT :
    https://everpano.com/navigator

    -->    

    <action autorun="preinit" type="Javascript"><![CDATA[
        krpano.navPlugPan = [{"qu":0,"ti":0,"height":152,"ga":[4,1,5,2]},{"qu":1,"ti":0,"height":152,"ga":[2,0]},{"qu":2,"ti":0,"height":152,"ga":[1,0]},{"qu":3,"ti":0,"height":152,"ga":[2,1]},{"qu":4,"ti":0,"height":152,"ga":[5,6,0]},{"qu":5,"ti":0,"height":152,"ga":[4,0]},{"qu":6,"ti":0,"height":152,"ga":[4]}];
        krpano.navPlugMod = [{"qu":0,"ne":0,"pu":[{"qu":0,"x":0,"y":0,"z":152,"fr":{"x":0,"y":0,"z":0},"cr":{"x":0,"y":0,"z":0},"re":0,"ki":[{"qu":0,"lo":[{"x":77.513,"y":-36.715,"z":152,"h":115.345,"v":60.565,"qu":"a"},{"x":-33.481,"y":59.096,"z":152,"h":-29.533,"v":65.922,"qu":"b"}]}],"we":"0|0|0","dr":0},{"qu":1,"x":152.074,"y":157.729,"z":"152","fr":{"x":253.431,"y":-148.162,"z":0},"cr":{"x":77.513,"y":-36.715,"z":152},"re":-101.375,"ki":[{"qu":0,"lo":[{"qu":"a","x":77.513,"y":-36.715,"z":152},{"qu":"b","x":-33.318,"y":58.791,"z":152}]},{"qu":1,"lo":[{"x":111.681,"y":228.236,"z":152,"h":26.074,"v":30.888,"qu":"a"},{"x":224.026,"y":131.773,"z":152,"h":59.536,"v":30.32,"qu":"b"}]}],"we":"0|-101.371|0","dr":-101.371},{"qu":2,"x":297.516,"y":220.061,"z":"152","fr":{"x":105.142,"y":42.337,"z":0},"cr":{"x":111.681,"y":228.236,"z":152},"re":-89.496,"ki":[{"qu":1,"lo":[{"qu":"a","x":111.681,"y":228.236,"z":152},{"qu":"b","x":224.718,"y":131.201,"z":152}]},{"qu":4,"lo":[{"x":112.037,"y":228.23,"z":152,"h":26.146,"v":30.873,"qu":"a"},{"x":208.675,"y":340.926,"z":152,"h":31.47,"v":20.82,"qu":"b"}]}],"we":"0|-89.500|0","dr":-89.5},{"qu":4,"x":-76.701,"y":179.11,"z":"152","fr":{"x":7.565,"y":-292.585,"z":0},"cr":{"x":77.513,"y":-36.715,"z":152},"re":129.163,"ki":[{"qu":0,"lo":[{"qu":"a","x":77.513,"y":-36.715,"z":152},{"qu":"b","x":-34.67,"y":58.675,"z":152}]},{"qu":4,"lo":[{"x":-138.365,"y":225.417,"z":152,"h":-31.542,"v":29.885,"qu":"a"},{"x":-194.97,"y":158.746,"z":152,"h":-50.847,"v":31.155,"qu":"b"}]},{"qu":2,"lo":[{"qu":"a","x":-138.365,"y":225.417,"z":152},{"qu":"b","x":-194.97,"y":158.746,"z":152}]},{"qu":4,"lo":[{"x":-16.757,"y":188.968,"z":152,"h":-5.068,"v":38.703,"qu":"a"},{"x":-65.348,"y":299.229,"z":152,"h":-12.319,"v":26.394,"qu":"b"}]},{"qu":3,"lo":[{"qu":"a","x":-16.757,"y":188.968,"z":152},{"qu":"b","x":-65.348,"y":299.229,"z":152}]}],"we":"0|129.156|0","dr":129.156},{"qu":5,"x":-211.521,"y":217.38,"z":"152","fr":{"x":-178.988,"y":286.786,"z":0},"cr":{"x":-138.365,"y":225.417,"z":152},"re":-62.768,"ki":[{"qu":2,"lo":[{"qu":"a","x":-138.365,"y":225.417,"z":152},{"qu":"b","x":-195.265,"y":158.664,"z":152}]}],"we":"0|-62.767|0","dr":-62.767},{"qu":6,"x":9.354,"y":322.433,"z":"152","fr":{"x":-31.544,"y":53.78,"z":0},"cr":{"x":-16.757,"y":188.968,"z":152},"re":-175.172,"ki":[{"qu":3,"lo":[{"qu":"a","x":-16.757,"y":188.968,"z":152},{"qu":"b","x":-65.34,"y":299.203,"z":152}]}],"we":"0|-175.163|0","dr":-175.163},{"qu":3,"x":565.393,"y":-8.479,"z":"152","fr":{"x":-369.98,"y":57.284,"z":0},"cr":{"x":112.037,"y":228.23,"z":152},"re":-132.903,"ki":[{"qu":4,"lo":[{"qu":"a","x":112.037,"y":228.23,"z":152},{"qu":"b","x":209.715,"y":341.985,"z":152}]}],"we":"0|-132.899|0","dr":-132.899}]}];
    ]]></action>

    <plugin name="navigator" keep="true" devices="html5" url="navigator.js" />


    <!--  
                     _             _ _               
      ___ ___  _ __ | |_ _ __ ___ | | | ___ _ __ ___ 
     / __/ _ \| '_ \| __| '__/ _ \| | |/ _ \ '__/ __|
    | (_| (_) | | | | |_| | | (_) | | |  __/ |  \__ \
     \___\___/|_| |_|\__|_|  \___/|_|_|\___|_|  |___/ 

    -->
                                                 
    <events name="navplugin_events" keep="true" webvr_onvrcontrollerbutton="navplugin_onvrcontrollerbutton()" />

    <action name="navplugin_onvrcontrollerbutton" scope="local">
        if(caller.vrbuttonindex == 1 AND caller.vrbuttonstate == 'up',
            txtadd(controllerName, 'vr_controller_' , calc(caller.vrcontroller.hand == 'left' ? 'l' : 'r'));
            plugin[navigator].makevrclick(get(controllerName));
        );
    </action>


    <!-- 
                  _               
    __      _____| |____   ___ __ 
    \ \ /\ / / _ \ '_ \ \ / / '__|
     \ V  V /  __/ |_) \ V /| |   
      \_/\_/ \___|_.__/ \_/ |_|  

    
    webvr support 
    
    -->

    <include url="%VIEWER%/plugins/webvr.xml" />
    
    <!-- force enabled positional tracking -->
    <plugin name="webvr" postracking="true" />
    
    <!-- clear the default gamepad controls from the webvr.xml -->
    <action name="webvr_vrcontroller_gamepad_controls"></action>
    
    <!-- use depthbuffer for hotspots rendering -->
    <display depthbuffer="true" />



    <!-- 

                     _            _                              
      ___ ___  _ __ | |_ _____  _| |_ _ __ ___   ___ _ __  _   _ 
     / __/ _ \| '_ \| __/ _ \ \/ / __| '_ ` _ \ / _ \ '_ \| | | |
    | (_| (_) | | | | ||  __/>  <| |_| | | | | |  __/ | | | |_| |
     \___\___/|_| |_|\__\___/_/\_\\__|_| |_| |_|\___|_| |_|\__,_|
                                                                 
    contextmenu with different viewing projections 
    
    -->
    <include url="%VIEWER%/plugins/contextmenu.xml" />
    
    




    <!-- 
      __           
     / _|_ __  ___ 
    | |_| '_ \/ __|
    |  _| |_) \__ \
    |_| | .__/|___/
        |_|        

    frames/second counter 
    -->

    <!-- <include url="%VIEWER%/plugins/fps.xml" /> -->





    <action name="setInitialPosition" autorun="onstart" >

        for(set(i,0), i LT style.count, inc(i),
            indexoftxt(is_everpano3D_style, get(style[get(i)].name), 'everpano3d_');
            if(is_everpano3D_style == 0 AND style[get(i)].linkedscene == xml.scene,
                copy(view.tx, style[get(i)].ox);
                copy(view.ty, style[get(i)].oy);
                copy(view.tz, style[get(i)].oz);
            );
        );
        
    </action>




  
</krpano>